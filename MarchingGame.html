<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marching Band Game</title>
    <style>
        body {
            background-color: #d3d3d3; /* Light gray background */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }

        #cardPack {
            width: 200px;
            cursor: pointer;
        }

        .bailee-card, .katie-card {
            width: 200px;
            display: none;
            cursor: pointer;
        }

        .reset-button {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px 20px;
            background-color: red;
            color: white;
            border: none;
            cursor: pointer;
        }

        .my-deck-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            padding: 10px 20px;
            background-color: blue;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <button class="reset-button" onclick="resetProgress()">Reset Progress</button>
    <button class="my-deck-button" onclick="goToDeck()">My Deck</button>

    <img id="cardPack" src="cardpack.png" alt="Card Pack" onclick="openCardPack()">

    <img id="baileeCard" class="bailee-card" src="BaileeCard.png" alt="Bailee's Card" onclick="revealNextCard('bailee')">
    <img id="katieCard" class="katie-card" src="KatieCard.png" alt="Katie's Card" onclick="revealNextCard('katie')">
    
    <div id="textDisplay"></div>

    <script>
        let cardsRevealed = 0;
        const receivedCards = [];

        function openCardPack() {
            const cardPack = document.getElementById('cardPack');
            cardPack.style.display = 'none'; // Hide card pack once clicked

            // Randomly generate cards
            receivedCards.push("Bailee Knott", "Katie Card", "Another Character");
            localStorage.setItem('receivedCards', JSON.stringify(receivedCards));

            if (receivedCards.includes("Bailee Knott")) {
                document.getElementById('baileeCard').style.display = 'block';
            } else if (receivedCards.includes("Katie Card")) {
                document.getElementById('katieCard').style.display = 'block';
            } else {
                document.getElementById('textDisplay').innerHTML = "You have received: " + receivedCards.join(", ");
            }
        }

        function revealNextCard(cardClicked) {
            if (cardClicked === 'bailee') {
                document.getElementById('baileeCard').style.display = 'none';
                if (receivedCards.includes("Katie Card")) {
                    document.getElementById('katieCard').style.display = 'block';
                } else {
                    document.getElementById('textDisplay').innerHTML = "You have received: " + receivedCards.join(", ");
                }
            } else if (cardClicked === 'katie') {
                document.getElementById('katieCard').style.display = 'none';
                document.getElementById('textDisplay').innerHTML = "You have received: " + receivedCards.join(", ");
            }
        }

        function resetProgress() {
            localStorage.removeItem('receivedCards');
            window.location.reload();
        }

        function goToDeck() {
            window.location.href = 'marchingchar_deck.html';
        }

        // Load saved deck on page load
        window.onload = function () {
            const savedCards = JSON.parse(localStorage.getItem('receivedCards')) || [];
            if (savedCards.length > 0) {
                document.getElementById('cardPack').style.display = 'none';
                if (savedCards.includes("Bailee Knott")) {
                    document.getElementById('baileeCard').style.display = 'block';
                } else if (savedCards.includes("Katie Card")) {
                    document.getElementById('katieCard').style.display = 'block';
                } else {
                    document.getElementById('textDisplay').innerHTML = "You have received: " + savedCards.join(", ");
                }
            }
        }
    </script>

</body>
</html>
